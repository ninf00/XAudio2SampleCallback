XAudio2SampleCallback
====================================================================================================

これは何？
----------------------------------------------------------------------------------------------------

DirectX9上で動作するXAudio2のwavファイル再生のためのサンプルです。  
勉強用に作ったのでとりあえず音を出すことしか考えていないです。


事前準備
----------------------------------------------------------------------------------------------------

DirectX SDKをお使いのコンピューターにインストールしてください。

- [DirectX SDK](https://www.microsoft.com/en-us/download/details.aspx?id=6812)


インストールと使い方
----------------------------------------------------------------------------------------------------

gitコマンドを使ってcloneして生成されたフォルダの中の
ソリューションファイルをVisual Studio 2017で開いて下さい。
まずはビルドしてください。  
XAudio2SampleCallback.cppにあるPLAY_MODEのマクロの値で再生方法切り替わります。  

0: 直接MMIOを操作してwaveファイルを再生  
1: WaveOperatorクラスを介してwaveファイルを操作して再生  
2: WaveOperatorクラスを利用、BGM想定の音楽はストリームスレッドを生成して再生  
-> 同時にSE想定の音楽はメモリに読み込んで再生


exeが生成されたらexeと同じフォルダに再生させたいwavファイルを  
test.wavという名前で設置してください。  
上記のパターン2を使う場合はSEとして再生したいwavファイルを  
exeと同じフォルダにse01.wavという名前で設置してください。  
その後exeを実行すると黒いウインドウが表示された後に再生されるはずです。

再生が終わるとウインドウに"play end!"と表示されます。  
そうなったら、何かキーを入力するとアプリケーションは終了します。


動作環境
----------------------------------------------------------------------------------------------------

 - Windows 10 Pro 64bit
 - Visual Studio 2017 Community Edition 

※ これ以外の環境でも動作するかもしれませんが動作確認はしていません



主な機能
----------------------------------------------------------------------------------------------------

### wavファイル再生
exeと同じファイルに置かれたtest.wavを再生します。
パターン2の場合はse01.wavも再生します。

### wavファイルの情報表示
再生中のwavファイルの基本情報をコマンドプロンプトのウインドウに出力します。

### Reference

以下のサイトのコードを参考にさせて頂きました。

- [Xaudio2を使う(@tobira-code)](https://qiita.com/tobira-code/items/39936c4e2b1168fb79ce#sample-code%E5%85%A8%E4%BD%93)

### License

[MIT License](LICENSE)